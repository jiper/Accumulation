网址：https://www.cnblogs.com/LCCRNblog/p/4777730.html

详细操作步骤：

1、将终端定位到project_makefile文件夹下，执行命令： make debug ；在project_makefile文件夹下生成add.o、divide.o、hybrid.o、multiply.o、subtract.o文件；

2、在lib文件夹下生成静态库libtest[linux_dbg_32].a，执行命令：ar -r ../lib/libtest[linux_dbg_32].a  *.o ；

3、将终端定位到test文件夹，执行命令：g++ -o test test_makefile_gcc.cpp  -L  ../lib  -ltest[linux_dbg_32] ，生成test执行文件；

4、执行命令：./test ，输出结果：-6256，Debug静态库的调用完成；

5、将终端重新定位到project_makefile文件夹下，执行命令：gcc  -shared  -o ../bin/libtest[linux_dbg_32].so  *.o ，在bin文件夹下生成libtest[linux_dbg_32].so ；

6、执行命令：g++  -o  ../test/test2  ../test/test_makefile_gcc.cpp -L  ../bin -ltest[linux_dbg_32] ，在test文件夹下生成test2执行文件；

7、执行命令：export  LD_LIBRARY_PATH=/home/spring/test_makefile_gcc/bin ，用于指定文件需调用的动态库的路径；

8、执行命令：./test2 ，输出结果：-6256，Debug动态库的调用完成；

9、若生成Release的动态库或静态库，执行 make release，其它步骤仅需修改生成的文件名即可。


