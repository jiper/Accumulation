问题：生产者将消息发送出去之后，如何确定消费者是否正确收到并响应了？

解决方案：
1. 事务机制（session）
2. Confirm模式

生产者确认模式详解：
原理：将生产者信道设置成confirm模式，所有发布在该信道上的信息都会被指派一个唯一ID，一旦消息被正确投递后，broker会发送一个确认给生产者（包含消息的唯一ID），如此一来生产者就可以确认消息得到正确投递了，如果消息是可持久化的，则确认信息会在消息写入磁盘后发出
confirm模式是异步的，生产者无需等待应答。通过回调的方式来处理应答信号。

开启confirm模式的方法
调用channel的confirmSelect方法

生产者实现confirm模式有三种编程方法
1. 普通confirm，每发一条消息，调用waitFroConfirms等待应答
2. 批量confirm，发送一批消息后再调用waitForConfirms
3. 异步confirm，不用等待应答，通过回调函数来自动应答