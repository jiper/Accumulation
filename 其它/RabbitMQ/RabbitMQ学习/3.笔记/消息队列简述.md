# 消息队列简述

作者：尹超

日期：2018-12-3

出处：https://www.jianshu.com/p/79ca08116d57

## 相关术语定义

| 名称      | 简写     | 定义                                           |
| --------- | -------- | ---------------------------------------------- |
| 消息队列  | MQ       | 通信时消息临时保存的容器，也被称为"消息中间件" |
| 生产者    | Producer | 消息的发送方                                   |
| 消费者    | Consumer | 消息的接收方                                   |
| 发布/订阅 | Sub/Pub  | 一种消息通信的机制，实现一发多收的过程         |
| 主题      | Topic    | 支持一发多收过程的标签                         |



## 核心思想提炼

​	**化同步过程为异步过程**

​	有了MQ机制，通信的时候Tx的任何消息送往MQ投递成功就已经解放了（不考虑应答的情况下），消息会自动排好队，至于消息如何传递给Rx那就看MQ是如何工作的了。他可以按同样的顺序挨个传递(点对点通信)，也可以群发给感兴趣的Rx（发布订阅机制），也可以直接广播出去。

## 常见应用	

在这种机制的基础上可以实现多种应用。

**异步处理** ：写好的信投递到邮局后就可以做自己的事去了，收信人什么时候收到和自己没关系

**应用解耦**：大家去银行排队办各种业务，门口取号，等着叫号即可，具体业务调度交由那台叫号机自己搞定。（想象一下没有这台叫号机的时候大家是怎么排队的？凭感觉排短的那条队，结果前面那个人问个没完没了，旁边那条队的人比我晚来十分钟都办完手续了我还在等。。。）

**流量削峰**：双十一秒杀（春节抢票）时，随便你访问量突增到多少，反正大家按顺序排好队，超过限制就自动叫你等待，或者转到其他页面去，服务器照样能正常运行。（当然实际情况远比这个复杂，暂时这么简单理解一下吧。。。）

## 常见的消息通信模式

| 模式    | 解释                                   |
| ------- | -------------------------------------- |
| P2P     | 最简单的点对点通信方式，相互之间有应答 |
| Pub/Sub | 发布订阅模式                           |
| push    | server主动将消息推送给client           |
| pull    | client主动向server请求数据             |

## 消息队列选型

常见的Rabbit MQ有RabbitMQ,Kafka,RocketMQ,Active MQ,Redis,ZeroMQ等

详见链接



## 参考链接

基础：https://blog.csdn.net/kingcat666/article/details/78660535

选型：https://www.cnblogs.com/miaoying/p/8809978.html

一个很好的介绍：https://www.2cto.com/kf/201804/740318.html

